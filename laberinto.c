#include <stdio.h>
#include <stdlib.h>
#define C 21 // Numero de columnas del laberinto
#define F 21 // Numereo de Filas del laberinto
#define Sx 2 // Coordenada en x de la salida 
#define Sy 7 // Coordenada en y de la salida


void print(char Lab[F][C]);
int Resolver (int posx,int posy,char Lab[F][C]);

char Laberinto [F][C]=            
 {
    {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'},
    {'1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
    {'1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'},
    {'1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','1','0'},
    {'1','1','0','0','0','0','1','1','1','1','1','1','1','1','1','0','0','0','0','1','0'},
    {'1','1','0','0','0','0','1','0','0','0','0','0','0','0','1','0','0','0','0','1','0'},
    {'1','1','0','0','0','0','1','0','0','0','0','0','0','0','1','1','1','1','1','1','0'},
    {'1','1','0','0','0','0','1','0','0','1','1','0','0','0','1','0','0','0','0','0','0'},
    {'1','1','1','1','1','1','1','0','1','0','0','1','0','0','1','0','1','0','0','0','1'},
    {'0','0','0','0','0','0','0','0','0','0','0','0','1','0','1','0','0','1','0','0','1'},
    {'0','1','0','0','0','0','1','0','0','0','1','1','0','0','1','0','0','0','1','0','0'},
    {'0','0','0','1','1','0','0','0','0','0','0','0','0','0','1','0','0','0','0','1','0'},
    {'0','0','0','1','1','0','0','0','0','0','1','1','1','1','1','1','1','0','1','1','0'},
    {'0','0','0','1','1','0','0','0','0','0','1','0','0','0','0','0','0','0','0','0','0'},
    {'0','0','0','1','1','1','1','1','1','0','1','0','0','0','0','0','0','0','0','0','0'},
    {'0','0','0','1','0','0','0','0','0','0','1','0','0','1','1','1','1','0','0','0','0'},
    {'0','1','0','0','0','0','1','0','1','0','0','0','0','0','0','0','0','0','0','0','0'},
    {'0','0','0','0','0','0','0','1','0','0','0','0','0','0','0','0','0','0','0','0','0'},
    {'0','0','0','1','1','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
    {'0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'},
    {'1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1','1'}
 }; 

int main(int argc, char *argv[])
{
  Laberinto[Sy][Sx]='S';
  Laberinto[19][0]='E';
  Resolver(0,19,Laberinto);  
  print(Laberinto);
  system("PAUSE");	
  return 0;
}

void print(char Lab[F][C]){
  int i,j;	   
  	   for (i = 0 ; i < F ; i ++)
  	     {
          for (j= 0 ; j < C ; j++)
  	        {
               if (i==Sy&&j==Sx)
                 printf("S");   
  	           else
                 printf("%c",Lab[i][j]);
            }
           printf("\n"); 
         }
 	} 

int Resolver (int posx,int posy,char Lab[F][C]){
 // Laberinto[posx][posy]=='x';
  char c=Laberinto[posy][posx];
 // printf(" %c ",c);
  if(c=='E'){ //estamos en la entrada
  Laberinto[posy][posx]='*';
	if(Resolver(posx+1,posy,Laberinto)||Resolver(posx-1,posy,Laberinto)||Resolver(posx,posy+1,Laberinto)||Resolver(posx,posy-1,Laberinto)){		//Derecha
    return 1;
  }
    return 0;
  }

	if(c=='S'){
		return 1;
	}
  if(c=='1'){
    return 0;
  }
  if(c==' '){
    return 0;
  }
  if(c=='*'){
    return 0;
  }
  if(c=='0'){  
    Laberinto[posy][posx]='*';
    if(Resolver(posx+1,posy,Laberinto)||Resolver(posx-1,posy,Laberinto)||Resolver(posx,posy+1,Laberinto)||Resolver(posx,posy-1,Laberinto)){		//Derecha
    return 1;
    }
    else if(c=='*'){
      Laberinto[posy][posx]=' ';
      return 0;
    }
  }
}



